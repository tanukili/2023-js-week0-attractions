import{_ as a,o as d,c,a as t,d as n,v as l,w as p}from"./index-ff41197e.js";const h={data(){return{view:{}}},methods:{render(s){this.axios.get(`http://localhost:3000/views?id=${s}`).then(e=>{this.view=e.data[0]})},editView(s){this.axios.patch(`http://localhost:3000/views/${this.view.id}`,s).then(()=>{alert("編輯成功")}).catch(()=>{alert("編輯失敗")})}},mounted(){const s=window.location.href.split("=")[1];this.render(s)}},m={class:"container mt-5"},v=t("h1",null,"編輯景點",-1),w={action:"#"},_={class:"mb-3"},f=t("label",{for:"title",class:"form-label"},"標題",-1),u={class:"mb-3"},b=t("label",{for:"description",class:"form-label"},"內文",-1);function x(s,e,V,$,i,r){return d(),c("div",m,[v,t("form",w,[t("div",_,[f,n(t("input",{type:"text",class:"form-control",id:"title","onUpdate:modelValue":e[0]||(e[0]=o=>i.view.name=o)},null,512),[[l,i.view.name]])]),t("div",u,[b,n(t("textarea",{class:"form-control",id:"description",rows:"3","onUpdate:modelValue":e[1]||(e[1]=o=>i.view.description=o)},null,512),[[l,i.view.description]])]),t("input",{onClick:e[2]||(e[2]=p(o=>r.editView(this.view),["prevent"])),type:"submit",class:"btn btn-primary",value:"儲存"})])])}const y=a(h,[["render",x]]);export{y as default};
