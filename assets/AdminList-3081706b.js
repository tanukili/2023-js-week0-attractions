import{_ as l,o as n,c as a,a as t,F as d,r as h,t as r,w as _}from"./index-ff41197e.js";const p={data(){return{views:[]}},methods:{render(){this.axios.get("http://localhost:3000/views").then(s=>{this.views=s.data,this.views.forEach(o=>{o.href=`#/admin/edit?id=${o.id}`})})},deleteView(s){console.log("刪除"),this.axios.delete(`http://localhost:3000/views/${s}`).then(()=>{alert("刪除成功"),this.render()}).catch(()=>{alert("刪除失敗")})}},mounted(){this.render()}},u={class:"container mt-5"},f=t("h1",null,"後台介面",-1),m={class:"table table-hover"},b=t("thead",null,[t("tr",{class:"table-primary"},[t("th",{scope:"col"},"#"),t("th",{scope:"col"},"標題"),t("th",{scope:"col"},"內容"),t("th",{scope:"col"},"編輯")])],-1),w={scope:"row"},$={class:"text-nowrap"},x=["href"],g=["onClick"];function k(s,o,v,y,c,i){return n(),a("div",u,[f,t("table",m,[b,t("tbody",null,[(n(!0),a(d,null,h(c.views,e=>(n(),a("tr",{key:e.id},[t("th",w,r(e.id),1),t("td",$,r(e.name),1),t("td",null,r(e.description),1),t("td",null,[t("a",{href:e.href,class:"btn btn-outline-secondary mb-2"},"編輯",8,x),t("a",{onClick:_(B=>i.deleteView(e.id),["prevent"]),href:"#",class:"btn btn-outline-danger"},"刪除",8,g)])]))),128))])])])}const C=l(p,[["render",k]]);export{C as default};
