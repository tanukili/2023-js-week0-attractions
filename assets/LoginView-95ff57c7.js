import{_ as c,o as m,c as u,a as e,d as r,v as d,w as p}from"./index-ff41197e.js";const _={data(){return{user:{email:"",password:""}}},methods:{login(){this.axios.post("http://localhost:3000/login",this.user).then(o=>{alert("登入成功");const{accessToken:s}=o.data,{id:i,role:n}=o.data.user;document.cookie=`userToken=${s}; max-age=43200`,document.cookie=`userId=${i}; max-age=43200`,document.cookie=`role=${n}; max-age=43200`,window.location.href="/"}).catch(o=>{alert(`登入失敗：${o.response.data}`)})}}},h={class:"container mt-5"},w=e("h1",null,"登入",-1),f={action:"#"},g={class:"mb-3"},k=e("label",{for:"email",class:"me-2"},"信箱",-1),v={class:"mb-3"},x=e("label",{for:"password",class:"me-2"},"密碼",-1);function b(o,s,i,n,a,l){return m(),u("div",h,[w,e("form",f,[e("div",g,[k,r(e("input",{type:"email",id:"email","onUpdate:modelValue":s[0]||(s[0]=t=>a.user.email=t)},null,512),[[d,a.user.email]])]),e("div",v,[x,r(e("input",{type:"password",id:"password","onUpdate:modelValue":s[1]||(s[1]=t=>a.user.password=t)},null,512),[[d,a.user.password]])]),e("input",{type:"submit",class:"btn btn-primary",value:"登入",onClick:s[2]||(s[2]=p((...t)=>l.login&&l.login(...t),["prevent"]))})])])}const V=c(_,[["render",b]]);export{V as default};
