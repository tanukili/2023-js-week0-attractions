import{_ as l,o,c as r,a as e,F as d,r as h,t as n,w as _}from"./index-06355d30.js";const u={data(){return{views:[]}},methods:{render(s){this.axios.get(`https://js-live-2023-week0.onrender.com/collects?userId=${s}`).then(c=>{this.views=c.data})},removeCollect(s){this.axios.delete(`https://js-live-2023-week0.onrender.com/collects/${s}`).then(()=>{alert("成功移除"),this.render()}).catch(()=>{alert("移除失敗")})}},mounted(){const s=document.cookie.replace(/(?:(?:^|.*;\s*)userId\s*=\s*([^;]*).*$)|^.*$/,"$1");s?this.render(s):this.$router.push("/")}},m={class:"container mt-5"},p=e("h1",null,"我的收藏",-1),$={class:"row row-cols-2 row-cols-md-3 g-4 list-unstyled"},f={class:"card h-100"},v={class:"card-body"},k={class:"card-title"},w={class:"card-text"},x={class:"card-footer"},y=["onClick"];function C(s,c,g,b,a,i){return o(),r("div",m,[p,e("ul",$,[(o(!0),r(d,null,h(a.views,t=>(o(),r("li",{class:"col",key:t.id},[e("div",f,[e("div",v,[e("h5",k,n(t.name),1),e("p",w,n(t.description),1)]),e("div",x,[e("a",{href:"#",class:"btn btn-primary",onClick:_(B=>i.removeCollect(t.id),["prevent"])},"移除收藏",8,y)])])]))),128))])])}const j=l(u,[["render",C]]);export{j as default};
